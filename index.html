<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IPL Player Management</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">IPL Management</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="#add-player">Add Player</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#search-player">Search Player</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#delete-player">Delete Player</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="D:\Projects\IPL-Website\index.html">home page</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Add Player Section 
  <section id="add-player" class="container my-5">
    <h2 class="text-center mb-4">Add New Player</h2>
    <form id="addPlayerForm" class="p-4 border rounded shadow-sm bg-light">
      <div class="mb-3">
        <label for="team" class="form-label">Team</label>
        <input type="text" class="form-control" id="team" placeholder="Enter team name" required>
      </div>
      <div class="mb-3">
        <label for="year" class="form-label">Year</label>
        <input type="number" class="form-control" id="year" placeholder="Enter year" required>
      </div>
      <div class="mb-3">
        <label for="name" class="form-label">Player Name</label>
        <input type="text" class="form-control" id="name" placeholder="Enter player name" required>
      </div>
      <div class="mb-3">
        <label for="role" class="form-label">Role</label>
        <input type="text" class="form-control" id="role" placeholder="Enter role (Batsman, Bowler, All-rounder)" required>
      </div>
      <div class="text-center">
        <button type="submit" class="btn btn-primary">Add Player</button>
      </div>
    </form>
  </section>-->
   <!-- Add Player Section -->
   <section id="add-player" class="container my-5 position-relative">
    <div class="overlay"></div>
    <div class="row justify-content-center">
      <div class="col-lg-6">
        <div class="p-5 shadow-lg rounded bg-light" style="position: relative; z-index: 1;">
          <h2 class="text-center mb-4">Add New Player</h2>
          <form id="addPlayerForm" class="needs-validation" novalidate>
            <div class="mb-3 position-relative">
              <label for="team" class="form-label">Team</label>
              <input type="text" class="form-control" id="team" placeholder="Enter team name" required>
              <div class="invalid-feedback">Please enter a team name.</div>
            </div>
            <div class="mb-3 position-relative">
              <label for="year" class="form-label">Year</label>
              <input type="number" class="form-control" id="year" placeholder="Enter year" required>
              <div class="invalid-feedback">Please enter a valid year.</div>
            </div>
            <div class="mb-3 position-relative">
              <label for="name" class="form-label">Player Name</label>
              <input type="text" class="form-control" id="name" placeholder="Enter player name" required>
              <div class="invalid-feedback">Please enter a player name.</div>
            </div>
            <div class="mb-3 position-relative">
              <label for="role" class="form-label">Role <i class="bi bi-info-circle" data-bs-toggle="tooltip" data-bs-placement="top" title="Choose a role such as Batsman, Bowler, or All-rounder"></i></label>
              <input type="text" class="form-control" id="role" placeholder="Enter role" required>
              <div class="invalid-feedback">Please enter a role.</div>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#confirmModal">Add Player</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Search Player Section -->
  <section id="search-player" class="container my-5">
    <h2 class="text-center mb-4">Search Best Player</h2>
    <form id="searchPlayerForm" class="p-4 border rounded shadow-sm bg-light">
      <div class="mb-3">
        <label for="searchRole" class="form-label">Select Role</label>
        <select class="form-select" id="searchRole">
          <option value="Batsman">Best Batsman</option>
          <option value="Bowler">Best Bowler</option>
          <option value="All-rounder">Best All-rounder</option>
        </select>
      </div>
      <div class="text-center">
        <button type="submit" class="btn btn-info">Search</button>
      </div>
    </form>
    <div id="playerResults" class="mt-4"></div>
  </section>
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Update Player Records</title>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">
  </head>
  <body>
  
  <section id="update-player" class="container my-5 position-relative" style="position: relative; padding-top: 20px;">
      <div class="overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.3); z-index: 0;"></div>
      <div class="row justify-content-center">
          <div class="col-lg-6">
              <div class="p-5 shadow-lg rounded bg-light" style="position: relative; z-index: 1;">
                  <h2 class="text-center mb-4">Update Player Records</h2>
                  <form id="updatePlayerForm" class="needs-validation" novalidate>
                      <div class="mb-3 position-relative">
                          <label for="team" class="form-label">Team</label>
                          <input type="text" class="form-control" id="team" placeholder="Enter team name" required>
                          <div class="invalid-feedback">Please enter a team name.</div>
                      </div>
                      <div class="mb-3 position-relative">
                          <label for="year" class="form-label">Year</label>
                          <input type="number" class="form-control" id="year" placeholder="Enter new year" required>
                          <div class="invalid-feedback">Please enter a valid year.</div>
                      </div>
                      <div class="mb-3 position-relative">
                          <label for="name" class="form-label">Player Name</label>
                          <input type="text" class="form-control" id="name" placeholder="Enter new player name" required>
                          <div class="invalid-feedback">Please enter a player name.</div>
                      </div>
                      <div class="mb-3 position-relative">
                          <label for="role" class="form-label">Role</label>
                          <input type="text" class="form-control" id="role" placeholder="Enter new role" required>
                          <div class="invalid-feedback">Please enter a role.</div>
                      </div>
                      <div class="text-center">
                          <button type="submit" class="btn btn-primary" style="padding: 10px 20px;">Update Player</button>
                      </div>
                  </form>
                  <p id="responseMessage" class="text-center mt-3"></p>
              </div>
          </div>
      </div>
  </section>
  
  <script src="script.js"></script>
  </body>
  </html>
  
  <!-- Delete Player Section -->
  <section id="delete-player" class="container my-5">
    <h2 class="text-center mb-4">Delete Player</h2>
    <form id="deletePlayerForm" class="p-4 border rounded shadow-sm bg-light">
      <div class="mb-3">
        <label for="playerId" class="form-label">Player ID</label>
        <input type="text" class="form-control" id="playerId" placeholder="Enter player ID to delete" required>
      </div>
      <div class="text-center">
        <button type="submit" class="btn btn-danger">Delete Player</button>
      </div>
    </form>
  </section>
  <!-- Delete Player Section -->


  <!-- Delete Player Form -->

        <!-- Confirmation Modal Trigger -->


<!-- Updation module -->
<!-- Optional Bootstrap Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css">

<script>
  // Initialize tooltips
  const tooltipTriggerList = Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
  tooltipTriggerList.forEach(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))

  // Confirm Delete Button Handler
  document.getElementById('confirmDeleteButton').addEventListener('click', async () => {
    const playerId = document.getElementById('playerId').value;
    try {
      await axios.delete(`http://localhost:4000/api/players/${playerId}`);
      alert('Player deleted successfully');
      document.getElementById('deletePlayerForm').reset();
      document.querySelector('#confirmDeleteModal .btn-close').click(); // Close modal
    } catch (error) {
      alert('Error deleting player');
    }
  });
</script>


  <!-- JS Libraries -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
